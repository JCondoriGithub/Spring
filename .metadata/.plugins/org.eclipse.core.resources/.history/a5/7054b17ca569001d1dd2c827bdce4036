package springhello;

import static org.junit.jupiter.api.Assertions.*;

import java.util.Map;

import org.junit.jupiter.api.Test;
import org.springframework.context.support.ClassPathXmlApplicationContext;

class SpringTest {

	@Test
	void test() {

		ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext("beans.xml");	// a differenza del singleton, in prototype si genera l'instanza del bean solo quando viene chiamato
		System.out.println("ctx: " + ctx);
		User u = ctx.getBean(User.class);	// se ci sono pi√π bean della classe, si deve almeno specificare il nome/id del bean
		System.out.println("getBean per classe: " + u);
		
		User u1 = ctx.getBean("u1", User.class);
		System.out.println("getBean per nome/id: " + u1);
		
		User u1bis = ctx.getBean("u1", User.class);
		System.out.println("getBean per nome/id: " + u1);
		
		Map<String, User> res = ctx.getBeansOfType(User.class);
		for(User user: res.values()) {
			System.out.println(user);
		}
	}

}
